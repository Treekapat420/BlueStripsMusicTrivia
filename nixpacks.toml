[phases.setup]
# Pull in Python 3.12 (Nix)
nixPkgs = ["python312"]

[phases.install]
# Use python -m pip so we don't depend on a 'pip' binary on PATH
cmds = [
  "python3 -m ensurepip --upgrade || true",
  "python3 -m pip install --upgrade pip",
  "python3 -m pip install -r requirements.txt"
]

[start]
cmd = "python3 -m src.bot"
